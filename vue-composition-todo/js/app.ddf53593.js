(function(e){function t(t){for(var n,a,l=t[0],c=t[1],u=t[2],d=0,f=[];d<l.length;d++)a=l[d],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&f.push(o[a][0]),o[a]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);s&&s(t);while(f.length)f.shift()();return i.push.apply(i,u||[]),r()}function r(){for(var e,t=0;t<i.length;t++){for(var r=i[t],n=!0,l=1;l<r.length;l++){var c=r[l];0!==o[c]&&(n=!1)}n&&(i.splice(t--,1),e=a(a.s=r[0]))}return e}var n={},o={app:0},i=[];function a(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=e,a.c=n,a.d=function(e,t,r){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(r,n,function(t){return e[t]}.bind(null,n));return r},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/vue-composition-todo/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=t,l=l.slice();for(var u=0;u<l.length;u++)t(l[u]);var s=c;i.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("cd49")},"2fc4":function(e,t,r){},"5c0b":function(e,t,r){"use strict";var n=r("9c0c"),o=r.n(n);o.a},"9c0c":function(e,t,r){},cd49:function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d"),r("0cdd");var n=r("2b0e"),o=r("5f5b"),i=r("b1e0");r("ab8b"),r("2dd8");n["default"].use(o["a"]),n["default"].use(i["a"]);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("router-view")},l=[],c=(r("5c0b"),r("2877")),u={},s=Object(c["a"])(u,a,l,!1,null,null,null),d=s.exports,f=r("8c4f"),p=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-container",{attrs:{fluid:!0}},[r("b-row",{staticClass:"mt-5"},[r("b-col",{attrs:{cols:"12",md:"6","offset-md":"3"}},[r("FilteredButton"),r("div",{staticClass:"mb-3 d-flex flex-column"},[r("h3",{staticClass:"mb-3 font-weight-bold"},[e._v("Todos")]),r("div",{staticClass:"d-flex justify-content-between align-items-center"},[r("b-progress",{staticClass:"flex-1",attrs:{variant:"success",height:"8px",max:e.total,value:e.totalCompleted}})],1)]),r("TodoList"),r("CreateTodo")],1)],1)],1)},m=[],v=(r("4de4"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"d-flex justify-content-center mb-3"},[r("b-button-group",e._l(e.filters,(function(t){return r("b-button",{key:t.value,attrs:{variant:e.visibilityFilter===t.value?"success":"light"},on:{click:function(r){return e.setVisibilityFilter(t.value)}}},[e._v(e._s(t.name)+" ")])})),1)],1)}),b=[],g=(r("d81d"),r("b0c0"),r("b64b"),r("c740"),r("a434"),r("498a"),r("750b")),h=r("5530"),y=(r("96cf"),r("1da1")),O=r("53ca");function j(e){if(!e)throw new Error("[usePromise]: 1st argument is required (must be a function)");if("function"!==typeof e)throw new Error("[usePromise]: argument has to be function, but received ".concat(Object(O["a"])(e)));var t,r=Object(g["d"])({loading:!1,error:null,result:null}),n=function(){var n=Object(y["a"])(regeneratorRuntime.mark((function n(){var o,i,a=arguments;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r.error=null,r.loading=!0,o=t=e.apply(void 0,a),n.prev=3,n.next=6,o;case 6:i=n.sent,t===o&&(r.result=i),n.next=13;break;case 10:n.prev=10,n.t0=n["catch"](3),r.error=n.t0;case 13:return n.prev=13,r.loading=!1,n.finish(13);case 16:case"end":return n.stop()}}),n,null,[[3,10,13,16]])})));return function(){return n.apply(this,arguments)}}();return Object(h["a"])(Object(h["a"])({},Object(g["f"])(r)),{},{use:n})}r("d3b7");var x=r("ec26");function _(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1500;return new Promise((function(r){return setTimeout((function(){return r(e)}),t)}))}var w={list:function(){return _(function(){return[{id:Object(x["a"])(),title:"Clean my room",completed:!1},{id:Object(x["a"])(),title:"Reading 1 chapter of a favorite book",completed:!1},{id:Object(x["a"])(),title:"Go to supermarket",completed:!0},{id:Object(x["a"])(),title:"Go to the gym",completed:!1},{id:Object(x["a"])(),title:"Do some coding",completed:!1},{id:Object(x["a"])(),title:"Drink water",completed:!1}]}(),500)},create:function(e){return _(function(){return{id:Object(x["a"])(),title:e,completed:!1}}(),500)},update:function(e){return _(function(){return e}(),0)}};n["default"].use(g["b"]);var T={ALL:{name:"All",value:0},COMPLETED:{name:"Completed",value:1},UNCOMPLETED:{name:"Uncompleted",value:2}},C=Object(g["e"])([]),k=Object(g["e"])(0),E=function(){var e=j((function(){return w.list().then((function(e){C.value=e}))})),t=e.loading,r=e.error,n=e.use;return{loading:t,error:r,exec:n}},P=function(){var e=j((function(e){return w.create(e.trim()).then((function(e){C.value.push(e)}))})),t=e.loading,r=e.error,n=e.use;return{loading:t,error:r,exec:n}},F=function(){var e=j((function(e){return w.update(e).then((function(e){var t=C.value.findIndex((function(t){return t.id===e.id}));C.value.splice(t,1,e)}))})),t=e.loading,r=e.error,n=e.use;return{loading:t,error:r,exec:n}},L=function(e){k.value=e};function M(){var e=Object(g["a"])((function(){switch(k.value){case T.ALL.value:return C.value;case T.COMPLETED.value:return C.value.filter((function(e){return e.completed}));case T.UNCOMPLETED.value:return C.value.filter((function(e){return!e.completed}));default:return C.value}}));return{todos:C,filteredTodos:e,visibilityFilter:k,listTodos:E,createTodo:P,updateTodo:F,setVisibilityFilter:L}}var A={name:"FilteredButton",setup:function(){var e=M(),t=e.visibilityFilter,r=e.setVisibilityFilter,n=Object.keys(T).map((function(e){return{name:T[e].name,value:T[e].value}}));return{visibilityFilter:t,setVisibilityFilter:r,filters:n}}},S=A,$=Object(c["a"])(S,v,b,!1,null,null,null),D=$.exports,N=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"d-flex align-items-center"},[r("div",{staticClass:"icon"},[r("b-icon-plus-circle",{attrs:{scale:"1.6"}})],1),r("b-overlay",{staticClass:"ml-3 border-bottom py-2 flex-1",attrs:{show:e.loading},on:{"update:show":function(t){e.loading=t}}},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.title,expression:"title"}],staticClass:"flat",attrs:{type:"text",placeholder:"What needs to be done?"},domProps:{value:e.title},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.createTodo(t)},input:function(t){t.target.composing||(e.title=t.target.value)}}}),e.error?r("b-alert",[e._v(e._s(e.error.message))]):e._e()],1)],1)},I=[],V=(r("ac1f"),{name:"CreateTodo",setup:function(){var e=M(),t=e.createTodo,r=Object(g["e"])(""),n=t(),o=n.loading,i=n.error,a=n.exec,l=function(){r.value.trim()&&a(r.value).then((function(){r.value=""}))};return{title:r,createTodo:l,loading:o,error:i}}}),B=V,R=Object(c["a"])(B,N,I,!1,null,null,null),U=R.exports,G=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-overlay",{staticStyle:{"min-height":"80px"},attrs:{show:e.loading},on:{"update:show":function(t){e.loading=t}}},[e.error?r("b-alert",[e._v(e._s(e.error.message))]):e._e(),e._l(e.filteredTodos,(function(e){return r("TodoItem",{key:e.id,attrs:{item:e}})}))],2)},J=[],q=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"d-flex align-items-center"},[r("div",{staticClass:"icon round"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.completed,expression:"completed"}],attrs:{type:"checkbox",id:"checkbox_"+e.item.id},domProps:{checked:Array.isArray(e.completed)?e._i(e.completed,null)>-1:e.completed},on:{change:[function(t){var r=e.completed,n=t.target,o=!!n.checked;if(Array.isArray(r)){var i=null,a=e._i(r,i);n.checked?a<0&&(e.completed=r.concat([i])):a>-1&&(e.completed=r.slice(0,a).concat(r.slice(a+1)))}else e.completed=o},e.commit]}}),r("label",{attrs:{for:"checkbox_"+e.item.id}})]),r("div",{staticClass:"ml-3 border-bottom py-2 flex-1"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.title,expression:"title"}],staticClass:"flat",class:{"is-completed":e.completed},attrs:{type:"text"},domProps:{value:e.title},on:{blur:e.commit,input:function(t){t.target.composing||(e.title=t.target.value)}}}),e.error?r("b-alert",{attrs:{variant:"danger"}},[e._v(e._s(e.error.message))]):e._e()],1)])},H=[],W={name:"TodoItem",props:["item"],setup:function(e){var t=e.item,r=M(),n=r.updateTodo,o=n(),i=o.loading,a=o.error,l=o.exec,c=Object(g["d"])({title:"",completed:!1}),u=Object(g["e"])(!1);Object(g["g"])((function(){return t}),(function(e){c.title=e.title,c.completed=e.completed,u.value=!1}),{deep:!0,immediate:!0}),Object(g["g"])((function(){return c}),(function(){u.value=!0}),{deep:!0,immediate:!0});var s=function(){u.value&&l(Object(h["a"])(Object(h["a"])({},t),{},{title:c.title,completed:c.completed}))};return Object(h["a"])(Object(h["a"])({},Object(g["f"])(c)),{},{updateTodo:n,loading:i,error:a,commit:s})}},z=W,K=Object(c["a"])(z,q,H,!1,null,null,null),Q=K.exports,X={name:"TodoList",components:{TodoItem:Q},setup:function(){var e=M(),t=e.todos,r=e.filteredTodos,n=e.listTodos,o=n(),i=o.loading,a=o.error,l=o.exec;return Object(g["c"])((function(){l()})),{filteredTodos:r,todos:t,loading:i,error:a}}},Y=X,Z=Object(c["a"])(Y,G,J,!1,null,null,null),ee=Z.exports,te={components:{TodoList:ee,CreateTodo:U,FilteredButton:D},setup:function(){var e=M(),t=e.todos,r=Object(g["a"])((function(){return t.value.filter((function(e){return e.completed})).length})),n=Object(g["a"])((function(){return t.value.length}));return{total:n,totalCompleted:r}}},re=te,ne=Object(c["a"])(re,p,m,!1,null,null,null),oe=ne.exports;n["default"].use(f["a"]);var ie=[{path:"/",name:"Home",component:oe}],ae=new f["a"]({mode:"history",base:"/vue-composition-todo/",routes:ie}),le=ae,ce=r("2f62");n["default"].use(ce["a"]);var ue=new ce["a"].Store({state:{},mutations:{},actions:{},modules:{}});r("2fc4");n["default"].use(g["b"]),n["default"].config.productionTip=!1,new n["default"]({router:le,store:ue,render:function(e){return e(d)}}).$mount("#app")}});
//# sourceMappingURL=app.ddf53593.js.map